# 完整模板清单

本文档列出 prompt-optimizer 内置的所有优化模板。

## 模板类型总览

| 类型 | 英文名 | 数量 |
|------|--------|------|
| 用户提示词优化 | userOptimize | 6 |
| 系统提示词优化 | optimize | 6 |
| 迭代优化 | iterate | 3 |
| 文生图优化 | text2imageOptimize | 5 |
| 图生图优化 | image2imageOptimize | 3 |
| 提示词评估 | evaluation | 20+ |
| 变量处理 | variable | 2 |

---

## 用户提示词优化 (userOptimize)

### 1. 基础优化
- **模板名**: 基础优化
- **适用场景**: 简单快速的日常优化，消除模糊表达、补充关键信息
- **触发**: `优化：xxx` 或 `基础优化：xxx`

### 2. 规划优化
- **模板名**: 步骤化规划
- **适用场景**: 复杂任务场景，将模糊需求分解为具体执行步骤
- **触发**: `规划：xxx` 或 `步骤化：xxx`

### 3. 专业优化
- **模板名**: 专业优化
- **适用场景**: 需要精准描述的场景，将泛泛而谈转为具体要求，添加量化标准
- **触发**: `专业优化：xxx` 或 `专业：xxx`

### 4-6. 上下文版优化
- **上下文版·用户提示词基础优化**: 在上下文约束下做最小充分精炼
- **上下文版·用户提示词规划优化**: 在上下文约束下规划为阶段化、可追踪文本
- **上下文版·用户提示词专业优化**: 在上下文约束下专业化为可执行且可验收的文本

---

## 系统提示词优化 (optimize)

### 1. 通用优化
- **模板名**: 通用优化
- **适用场景**: 大多数系统提示词优化，按标准结构重组角色定义、技能和规则
- **触发**: `系统提示词：xxx` 或 `/system xxx`

### 2. 格式化优化
- **模板名**: 格式化优化（数据场景）
- **适用场景**: 数据分析、报告生成等需要结构化输出的场景
- **触发**: `格式化：xxx`

### 3. 分析型优化
- **模板名**: 分析型优化（技术场景）
- **适用场景**: 代码审查、方案评估等技术场景
- **触发**: `分析型：xxx`

### 4-6. 上下文消息优化
- **通用消息优化**: 通用对话场景，保持风格一致性（推荐）
- **上下文分析型优化**: 技术场景的多轮对话
- **上下文格式化优化**: 数据场景的多轮对话

---

## 迭代优化 (iterate)

### 1. 通用迭代
- **模板名**: 通用迭代
- **适用场景**: 基于具体问题和需求对已有提示词进行针对性调整
- **触发**: `迭代：xxx`

### 2. 上下文迭代
- **模板名**: 上下文版·迭代优化
- **适用场景**: 结合上下文与工具信息进行小步快迭的优化

### 3. 图像迭代
- **模板名**: 图像迭代（通用）
- **适用场景**: 基于上一次优化结果进行图像提示词迭代，保持风格连续

---

## 文生图优化 (text2imageOptimize)

### 1. 通用自然语言优化
- **描述**: 结构化自然语言强化主体/动作/环境/光线/配色/材质/氛围与构图视角
- **触发**: `/image xxx` 或 `图像：xxx`

### 2. 中文美学优化
- **描述**: 专门针对中文图像生成模型优化，擅长中文语境和文化元素融合

### 3. 摄影向优化
- **描述**: 强调主体、构图、光线与氛围，无参数/权重语法

### 4. 解构/创造性
- **描述**: 将普通文本深度解构，重创造前所未来的奇幻视觉叙事

### 5. JSON结构化
- **描述**: 输出严格 JSON 的图像提示词，字段名/字段值均为中文

---

## 图生图优化 (image2imageOptimize)

### 1. 通用图生图
- **描述**: 使用自然语言进行克制的编辑指导，避免参数与权重

### 2. 设计文案替换
- **描述**: 保持版式与品牌一致，仅替换文本

### 3. JSON结构化
- **描述**: 严格 JSON 输出模板，结构通用允许自由扩展

---

## 提示词评估 (evaluation)

### 按模式分类

| 模式 | 模板 | 说明 |
|------|------|------|
| 原始评估 | 原始提示词评估 | 评估原始提示词的测试结果 |
| 优化后评估 | 优化后提示词评估 | 评估优化后提示词的测试效果 |
| 对比评估 | 对比评估 | 对比原始和优化后的效果差异 |
| 直接评估 | xxx直接评估 | 无需测试结果，直接评估质量 |
| 迭代评估 | xxx迭代评估 | 统一输出 improvements + patchPlan |

### 按提示词类型分类

- **系统提示词评估**: 直接评估、迭代评估
- **用户提示词评估**: 直接评估、迭代评估、对比评估
- **多消息对话评估**: 原始、优化后、对比、直接、迭代
- **变量模式评估**: 原始、优化后、对比、直接、迭代
- **图像提示词评估**: 文生图直接评估、图生图直接评估

---

## 变量处理

### 1. 变量提取
- **模板名**: AI智能变量提取
- **描述**: LLM自主决定提取粒度，从提示词中提取变量

### 2. 变量值生成
- **模板名**: AI智能变量值生成
- **描述**: 根据提示词上下文推测变量值

---

## 触发关键词速查

| 功能 | 关键词 |
|------|--------|
| 用户优化 | `优化：`, `基础优化：`, `规划：`, `专业优化：` |
| 系统优化 | `系统提示词：`, `/system`, `格式化：`, `分析型：` |
| 迭代 | `迭代：`, `改进：`, `调整：` |
| 文生图 | `/image`, `图像：`, `画：` |
| 图生图 | `图生图：`, `编辑：` |
| 评估 | `评估：`, `对比：`, `评分：` |
| 变量 | `提取变量：`, `生成变量：` |
